reset
set terminal wxt size 1000,800 enhanced font 'Segoe UI,12' persist
# Alternativa: set terminal qt size 1000,800

set title "Superficie de Optimización (RMSE) con Mapa de Calor Proyectado" font ",16"

# --- 1. Ejes y Etiquetas ---
set xlabel "Ruido Posición (Log10 Q)" offset 0,-1
set ylabel "Ruido Velocidad (Log10 Q)" offset 0,-1
set zlabel "Error (RMSE)" rotate by 90 offset 1,0
set grid z vertical
set xyplane relative 0.1  

# --- 2. La Magia del Color (PM3D) ---
set pm3d at s depthorder 

# Paleta: Azul oscuro (Mejor) -> Rojo (Peor)
set palette defined (0 "#00008B", 0.1 "#0000FF", 0.3 "#00FFFF", 0.5 "#FFFF00", 1 "#FF0000")

# --- 3. CORRECCIÓN: BARRA DE COLOR ---
# Configuramos geometría y etiqueta por separado para evitar errores de sintaxis
set colorbox vertical user origin 0.9, 0.2 size 0.02, 0.6
set cblabel "RMSE" offset 1,0

# --- 4. Transparencia y Estilo ---
set style fill transparent solid 0.9 border lc rgb "gray30"

# --- 5. Contornos (Las líneas en el suelo) ---
set contour base        
set cntrparam levels 20 
set cntrlabel onecolor

# --- 6. Vista Inicial ---
set view 60, 30, 1, 1   

# --- 7. PLOTEAR ---
splot 'error_surface.txt' skip 1 using 1:2:3 with pm3d title "Superficie de Error"